"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}function _createSuper(t){return function(){var e,o=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Shape=function t(e,o,n,i,r){_classCallCheck(this,t),this.x=e,this.y=o,this.velX=n,this.velY=i,this.exists=r},Ball=function(t){_inherits(o,Shape);var e=_createSuper(o);function o(t,n,i,r,s,l,a){var c;return _classCallCheck(this,o),(c=e.call(this,t,n,i,r,a)).color=s,c.size=l,c}return _createClass(o,[{key:"draw",value:function(){ctx.beginPath(),ctx.fillStyle=this.color,ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill()}},{key:"update",value:function(){(this.x+this.size>=width||this.x-this.size<=0)&&(this.velX=-this.velX),(this.y+this.size>=height||this.y-this.size<=0)&&(this.velY=-this.velY),this.x+=this.velX,this.y+=this.velY}},{key:"collisionDetect",value:function(){for(var t=0;t<balls.length;t++)if(this!==balls[t]&&balls[t].exists){var e=this.x-balls[t].x,o=this.y-balls[t].y;Math.sqrt(e*e+o*o)<this.size+balls[t].size&&(this.velX=-this.velX,this.velY=-this.velY)}}},{key:"mouseCollision",value:function(){for(var t=0;t<balls.length;t++){var e=this.x-mouseX,o=this.y-mouseY;Math.sqrt(e*e+o*o)<this.size&&(console.log("DistX ".concat(e," DistY ").concat(o)),console.log("MouseX ".concat(mouseX," MouseY ").concat(mouseY)),mouseX=void 0,mouseY=void 0,this.exists=!1,showCount())}}}]),o}();Ball.count=10,Ball.countBalls=function(){return balls.reduce((function(t,e){return e.exists?t+1:t+0}),0)};var width,height,mouseX,mouseY,canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d");function random(t,e){return Math.floor(Math.random()*(e-t)+t)}function init(){width=canvas.width=window.innerWidth,height=canvas.height=window.innerHeight}init(),window.addEventListener("resize",init),canvas.addEventListener("mousedown",(function(t){mouseX=t.clientX,mouseY=t.clientY}));var balls=[];function loop(){for(ctx.fillStyle="rgba(0,0,0,0.25)",ctx.fillRect(0,0,width,height);balls.length<Ball.count;){var t=new Ball(random(0,width),random(0,height),random(-7,7),random(-7,7),"rgb("+random(0,255)+","+random(0,255)+","+random(0,255)+")",random(20,30),!0);balls.push(t)}for(var e=0;e<balls.length;e++)balls[e].exists&&(balls[e].draw(),balls[e].update(),balls[e].collisionDetect(),balls[e].mouseCollision());requestAnimationFrame(loop)}var paragraph=document.getElementsByTagName("p"),textParagraph=paragraph[0].textContent;function showCount(){paragraph[0].textContent=textParagraph+Ball.countBalls()}loop(),showCount();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5taW4uanMiLCJTaGFwZS5qcyIsIkJhbGwuanMiLCJzY3JpcHQuanMiXSwibmFtZXMiOlsiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NyZWF0ZVN1cGVyIiwiRGVyaXZlZCIsInJlc3VsdCIsIlN1cGVyIiwiX2dldFByb3RvdHlwZU9mIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIk5ld1RhcmdldCIsInRoaXMiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIlJlZmVyZW5jZUVycm9yIiwic2hhbSIsIlByb3h5IiwiRGF0ZSIsInRvU3RyaW5nIiwiZSIsIm8iLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiVHlwZUVycm9yIiwiY3JlYXRlIiwidmFsdWUiLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJTaGFwZSIsIngiLCJ5IiwidmVsWCIsInZlbFkiLCJleGlzdHMiLCJCYWxsIiwiX1NoYXBlIiwiX3N1cGVyIiwiY29sb3IiLCJzaXplIiwiX3RoaXMiLCJjdHgiLCJiZWdpblBhdGgiLCJmaWxsU3R5bGUiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwid2lkdGgiLCJoZWlnaHQiLCJqIiwiYmFsbHMiLCJkeCIsImR5Iiwic3FydCIsImRpc3RYIiwibW91c2VYIiwiZGlzdFkiLCJtb3VzZVkiLCJjb25zb2xlIiwibG9nIiwiY29uY2F0IiwidW5kZWZpbmVkIiwic2hvd0NvdW50IiwiY291bnQiLCJjb3VudEJhbGxzIiwicmVkdWNlIiwiYWNjIiwiYmFsbCIsImNhbnZhcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImdldENvbnRleHQiLCJyYW5kb20iLCJtaW4iLCJtYXgiLCJmbG9vciIsImluaXQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xpZW50WCIsImNsaWVudFkiLCJsb29wIiwiZmlsbFJlY3QiLCJwdXNoIiwiZHJhdyIsInVwZGF0ZSIsImNvbGxpc2lvbkRldGVjdCIsIm1vdXNlQ29sbGlzaW9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicGFyYWdyYXBoIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0ZXh0UGFyYWdyYXBoIiwidGV4dENvbnRlbnQiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsU0FBU0EsUUFBUUMsR0FBbVYsT0FBdE9ELFFBQXJELG1CQUFYRSxRQUFvRCxpQkFBcEJBLE9BQU9DLFNBQW1DLFNBQWlCRixHQUFPLGNBQWNBLEdBQTJCLFNBQWlCQSxHQUFPLE9BQU9BLEdBQXlCLG1CQUFYQyxRQUF5QkQsRUFBSUcsY0FBZ0JGLFFBQVVELElBQVFDLE9BQU9HLFVBQVksZ0JBQWtCSixJQUF5QkEsR0FFblgsU0FBU0ssa0JBQWtCQyxFQUFRQyxHQUFTLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsSUFBSUUsRUFBYUgsRUFBTUMsR0FBSUUsRUFBV0MsV0FBYUQsRUFBV0MsYUFBYyxFQUFPRCxFQUFXRSxjQUFlLEVBQVUsVUFBV0YsSUFBWUEsRUFBV0csVUFBVyxHQUFNQyxPQUFPQyxlQUFl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QUFBLEVBQUF1RSxNQUFBdEUsT0FBQUQsSUFDQXVFLE1BQUF2RSxHQUFBc0QsU0FDQWlCLE1BQUF2RSxHQUFBMkcsT0FDQXBDLE1BQUF2RSxHQUFBNEcsU0FDQXJDLE1BQUF2RSxHQUFBNkcsa0JBQ0F0QyxNQUFBdkUsR0FBQThHLGtCQUlBQyxzQkFBQVAsTUFHQSxJQUFBUSxVQUFBdEIsU0FBQXVCLHFCQUFBLEtBQ0FDLGNBQUFGLFVBQUEsR0FBQUcsWUFFQSxTQUFBaEMsWUFDQTZCLFVBQUEsR0FBQUcsWUFBQUQsY0FBQTNELEtBQUE4QixhQUlBbUIsT0FDQXJCIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsImNsYXNzIFNoYXBlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB2ZWxYLCB2ZWxZLCBleGlzdHMpIHtcbiAgICAgICAgdGhpcy54ID0geFxuICAgICAgICB0aGlzLnkgPSB5XG4gICAgICAgIHRoaXMudmVsWCA9IHZlbFhcbiAgICAgICAgdGhpcy52ZWxZID0gdmVsWVxuICAgICAgICB0aGlzLmV4aXN0cyA9IGV4aXN0c1xuICAgIH1cbiAgICBcbn0iLCJjbGFzcyBCYWxsIGV4dGVuZHMgU2hhcGUge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHZlbFgsIHZlbFksIGNvbG9yLCBzaXplLCBleGlzdHMpIHtcbiAgICAgICAgc3VwZXIoeCwgeSwgdmVsWCwgdmVsWSwgZXhpc3RzKVxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3JcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZVxuICAgIH1cbiAgICAvL3N0YXRpYyBjb3VudCA9IDIwXG4gICAgZHJhdygpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yXG4gICAgICAgIGN0eC5hcmModGhpcy54LCB0aGlzLnksIHRoaXMuc2l6ZSwgMCwgMiAqIE1hdGguUEkpXG4gICAgICAgIGN0eC5maWxsKClcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoICgodGhpcy54ICsgdGhpcy5zaXplKSA+PSB3aWR0aCkgfHwgKCh0aGlzLnggLSB0aGlzLnNpemUpIDw9IDApKSB7XG4gICAgICAgICAgICB0aGlzLnZlbFggPSAtKHRoaXMudmVsWClcbiAgICAgICAgfVxuICAgICAgICBpZiAoICgodGhpcy55ICsgdGhpcy5zaXplKSA+PSBoZWlnaHQpIHx8ICgodGhpcy55IC0gdGhpcy5zaXplKSA8PSAwKSkge1xuICAgICAgICAgICAgdGhpcy52ZWxZID0gLSh0aGlzLnZlbFkpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnggKz0gdGhpcy52ZWxYXG4gICAgICAgIHRoaXMueSArPSB0aGlzLnZlbFlcbiAgICB9XG4gICAgY29sbGlzaW9uRGV0ZWN0KCkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJhbGxzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoICEodGhpcyA9PT0gYmFsbHNbal0pICYmIGJhbGxzW2pdLmV4aXN0cyApIHtcbiAgICAgICAgICAgICAgICBsZXQgZHggPSB0aGlzLnggLSBiYWxsc1tqXS54XG4gICAgICAgICAgICAgICAgbGV0IGR5ID0gdGhpcy55IC0gYmFsbHNbal0ueVxuICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KVxuXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5zaXplICsgYmFsbHNbal0uc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlbFggPSAtdGhpcy52ZWxYXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVsWSA9IC10aGlzLnZlbFlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW91c2VDb2xsaXNpb24oKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkaXN0WCA9IHRoaXMueCAtIG1vdXNlWFxuICAgICAgICAgICAgbGV0IGRpc3RZID0gdGhpcy55IC0gbW91c2VZXG4gICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGlzdFgqZGlzdFggKyBkaXN0WSpkaXN0WSlcblxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYERpc3RYICR7ZGlzdFh9IERpc3RZICR7ZGlzdFl9YClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTW91c2VYICR7bW91c2VYfSBNb3VzZVkgJHttb3VzZVl9YClcbiAgICAgICAgICAgICAgICBtb3VzZVggPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICBtb3VzZVkgPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB0aGlzLmV4aXN0cyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgc2hvd0NvdW50KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuQmFsbC5jb3VudCA9IDEwXG5CYWxsLmNvdW50QmFsbHMgPSBmdW5jdGlvbigpIHtcbiAgICBsZXQgY291bnQgPSBiYWxscy5yZWR1Y2UoKGFjYywgYmFsbCkgPT4ge1xuICAgICAgICBpZiAoYmFsbC5leGlzdHMpIHJldHVybiBhY2MgKz0gMVxuICAgICAgICBlbHNlIHJldHVybiBhY2MgKz0gMFxuICAgIH0sIDApXG4gICAgcmV0dXJuIGNvdW50XG59IiwiY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzJylcbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG5cbmxldCB3aWR0aCwgaGVpZ2h0LCBtb3VzZVgsIG1vdXNlWVxuXG5mdW5jdGlvbiByYW5kb20obWluLG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4LW1pbikgKyBtaW4pXG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgd2lkdGggPSBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbn1cblxuaW5pdCgpXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBpbml0KVxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGUgPT4ge1xuICAgIG1vdXNlWCA9IGUuY2xpZW50WFxuICAgIG1vdXNlWSA9IGUuY2xpZW50WVxufSlcblxubGV0IGJhbGxzID0gW11cblxuXG5cbmZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMjUpJ1xuICAgIGN0eC5maWxsUmVjdCgwLDAsd2lkdGgsIGhlaWdodClcblxuICAgIHdoaWxlIChiYWxscy5sZW5ndGggPCBCYWxsLmNvdW50KSB7XG4gICAgICAgIGxldCBiYWxsID0gbmV3IEJhbGwoXG4gICAgICAgICAgICByYW5kb20oMCwgd2lkdGgpLFxuICAgICAgICAgICAgcmFuZG9tKDAsIGhlaWdodCksXG4gICAgICAgICAgICByYW5kb20oLTcsNyksXG4gICAgICAgICAgICByYW5kb20oLTcsNyksXG4gICAgICAgICAgICAncmdiKCcgKyByYW5kb20oMCwyNTUpICsgJywnICsgcmFuZG9tKDAsMjU1KSArICcsJyArIHJhbmRvbSgwLDI1NSkgKyAnKScsIFxuICAgICAgICAgICAgcmFuZG9tKDIwLDMwKSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgICBiYWxscy5wdXNoKGJhbGwpXG4gICAgfVxuXG4gICAgZm9yKCBsZXQgaSA9IDA7IGkgPCBiYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYmFsbHNbaV0uZXhpc3RzKSB7XG4gICAgICAgICAgICBiYWxsc1tpXS5kcmF3KClcbiAgICAgICAgICAgIGJhbGxzW2ldLnVwZGF0ZSgpXG4gICAgICAgICAgICBiYWxsc1tpXS5jb2xsaXNpb25EZXRlY3QoKVxuICAgICAgICAgICAgYmFsbHNbaV0ubW91c2VDb2xsaXNpb24oKVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKVxufVxuXG5sZXQgcGFyYWdyYXBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3AnKVxubGV0IHRleHRQYXJhZ3JhcGggPSBwYXJhZ3JhcGhbMF0udGV4dENvbnRlbnRcblxuZnVuY3Rpb24gc2hvd0NvdW50KCkge1xuICAgIHBhcmFncmFwaFswXS50ZXh0Q29udGVudCA9IHRleHRQYXJhZ3JhcGggKyBCYWxsLmNvdW50QmFsbHMoKVxufVxuXG5cbmxvb3AoKVxuc2hvd0NvdW50KCkiXX0=
