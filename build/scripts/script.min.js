"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _createSuper(t){return function(){var e,i=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d"),width=canvas.width=window.innerWidth,height=canvas.height=window.innerHeight;function random(t,e){return Math.floor(Math.random()*(e-t)+t)}var Shape=function t(e,i,r,n,o){_classCallCheck(this,t),this.x=e,this.y=i,this.velX=r,this.velY=n,this.exists=o},Ball=function(t){_inherits(i,Shape);var e=_createSuper(i);function i(t,r,n,o,s,l,a){var c;return _classCallCheck(this,i),(c=e.call(this,t,r,n,o,a)).color=s,c.size=l,c}return _createClass(i,[{key:"draw",value:function(){ctx.beginPath(),ctx.fillStyle=this.color,ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill()}},{key:"update",value:function(){(this.x+this.size>=width||this.x-this.size<=0)&&(this.velX=-this.velX),(this.y+this.size>=height||this.y-this.size<=0)&&(this.velY=-this.velY),this.x+=this.velX,this.y+=this.velY}},{key:"collisionDetect",value:function(){for(var t=0;t<balls.length;t++)if(this!==balls[t]){var e=this.x-balls[t].x,i=this.y-balls[t].y;Math.sqrt(e*e+i*i)<this.size+balls[t].size&&(balls[t].color=this.color="rgb("+random(0,255)+","+random(0,255)+","+random(0,255)+")")}}}]),i}();Ball.count=20;var EvilCircle=function(t){_inherits(i,Shape);var e=_createSuper(i);function i(t,r,n){var o;return _classCallCheck(this,i),(o=e.call(this,t,r,20,20,n)).color="White",o.size=10,o}return _createClass(i,[{key:"draw",value:function(){ctx.beginPath(),ctx.lineWidth=3,ctx.strokeStyle=this.color,ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.stroke()}},{key:"checkBounds",value:function(){this.x+this.size>=width?this.x=width-this.velX:this.x-this.size<=0&&(this.x=0+this.velX),this.y+this.size>=height?this.y=height:this.y-this.size<=0&&(this.y=0)}},{key:"setControls",value:function(){var t=this;window.onkeydown=function(e){65===e.keyCode?t.x-=t.velX:68===e.keyCode?t.x+=t.velX:87==e.keyCode?t.y-=t.velY:83===e.keyCode&&(t.y+=t.velY)}}},{key:"collisionDetect",value:function(){for(var t=0;t<balls.length;t++){var e=this.x-balls[t].x,i=this.y-balls[t].y;Math.sqrt(e*e+i*i)<this.size+balls[t].size&&!0===balls[t].exists&&(balls[t].exists=!1,Ball.count--,paragraph[0].textContent="".concat(textParagraph," ").concat(Ball.count))}}}]),i}(),balls=[],evilCicle=new EvilCircle(random(0,width),random(0,height),!0),paragraph=document.getElementsByTagName("p"),textParagraph=paragraph[0].textContent;function loop(){for(ctx.fillStyle="rgba(0,0,0,0.25)",ctx.fillRect(0,0,width,height);balls.length<Ball.count;){var t=new Ball(random(0,width),random(0,height),random(-7,7),random(-7,7),"rgb("+random(0,255)+","+random(0,255)+","+random(0,255)+")",random(10,20),!0);balls.push(t)}for(var e=0;e<balls.length;e++)balls[e].exists&&(balls[e].draw(),balls[e].update(),balls[e].collisionDetect()),evilCicle.draw(),evilCicle.checkBounds(),evilCicle.setControls(),evilCicle.collisionDetect();requestAnimationFrame(loop)}paragraph[0].textContent=paragraph[0].textContent+Ball.count,loop();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwicmVzdWx0IiwiU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiTmV3VGFyZ2V0IiwidGhpcyIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJhcmd1bWVudHMiLCJhcHBseSIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsImNhbGwiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiUmVmZXJlbmNlRXJyb3IiLCJzaGFtIiwiUHJveHkiLCJEYXRlIiwidG9TdHJpbmciLCJlIiwibyIsInNldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJUeXBlRXJyb3IiLCJjcmVhdGUiLCJ2YWx1ZSIsIl9zZXRQcm90b3R5cGVPZiIsInAiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsImNhbnZhcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImN0eCIsImdldENvbnRleHQiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsInJhbmRvbSIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsIlNoYXBlIiwieCIsInkiLCJ2ZWxYIiwidmVsWSIsImV4aXN0cyIsIkJhbGwiLCJfU2hhcGUiLCJfc3VwZXIiLCJjb2xvciIsInNpemUiLCJfdGhpcyIsImJlZ2luUGF0aCIsImZpbGxTdHlsZSIsImFyYyIsIlBJIiwiZmlsbCIsImoiLCJiYWxscyIsImR4IiwiZHkiLCJzcXJ0IiwiY291bnQiLCJFdmlsQ2lyY2xlIiwiX1NoYXBlMiIsIl9zdXBlcjIiLCJfdGhpczIiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsIl90aGlzMyIsIm9ua2V5ZG93biIsImtleUNvZGUiLCJwYXJhZ3JhcGgiLCJ0ZXh0Q29udGVudCIsImNvbmNhdCIsInRleHRQYXJhZ3JhcGgiLCJldmlsQ2ljbGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxvb3AiLCJmaWxsUmVjdCIsImJhbGwiLCJwdXNoIiwiZHJhdyIsInVwZGF0ZSIsImNvbGxpc2lvbkRldGVjdCIsImNoZWNrQm91bmRzIiwic2V0Q29udHJvbHMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsU0FBU0EsUUFBUUMsR0FBbVYsT0FBdE9ELFFBQXJELG1CQUFYRSxRQUFvRCxpQkFBcEJBLE9BQU9DLFNBQW1DLFNBQWlCRixHQUFPLGNBQWNBLEdBQTJCLFNBQWlCQSxHQUFPLE9BQU9BLEdBQXlCLG1CQUFYQyxRQUF5QkQsRUFBSUcsY0FBZ0JGLFFBQVVELElBQVFDLE9BQU9HLFVBQVksZ0JBQWtCSixJQUF5QkEsR0FFblgsU0FBU0ssa0JBQWtCQyxFQUFRQyxHQUFTLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsSUFBSUUsRUFBYUgsRUFBTUMsR0FBSUUsRUFBV0MsV0FBYUQsRUFBV0MsYUFBYyxFQUFPRCxFQUFXRSxjQUFlLEVBQVUsVUFBV0YsSUFBWUEsRUFBV0csVUFBVyxHQUFNQyxPQUFPQyxlQUFlVCxFQUFRSSxFQUFXTSxJQUFLTixJQUU3UyxTQUFTTyxhQUFhQyxFQUFhQyxFQUFZQyxHQUFtSixPQUFoSUQsR0FBWWQsa0JBQWtCYSxFQUFZZCxVQUFXZSxHQUFpQkMsR0FBYWYsa0JBQWtCYSxFQUFhRSxHQUFxQkYsRUFFek0sU0FBU0csYUFBYUMsR0FBVyxPQUFPLFdBQWMsSUFBc0NDLEVBQWxDQyxFQUFRQyxnQkFBZ0JILEdBQWtCLEdBQUlJLDRCQUE2QixDQUFFLElBQUlDLEVBQVlGLGdCQUFnQkcsTUFBTXpCLFlBQWFvQixFQUFTTSxRQUFRQyxVQUFVTixFQUFPTyxVQUFXSixRQUFxQkosRUFBU0MsRUFBTVEsTUFBTUosS0FBTUcsV0FBYyxPQUFPRSwyQkFBMkJMLEtBQU1MLElBRTdVLFNBQVNVLDJCQUEyQkMsRUFBTUMsR0FBUSxPQUFJQSxHQUEyQixXQUFsQnBDLFFBQVFvQyxJQUFzQyxtQkFBVEEsRUFBOENDLHVCQUF1QkYsR0FBdENDLEVBRW5JLFNBQVNDLHVCQUF1QkYsR0FBUSxRQUFhLElBQVRBLEVBQW1CLE1BQU0sSUFBSUcsZUFBZSw2REFBZ0UsT0FBT0gsRUFFL0osU0FBU1IsNEJBQThCLEdBQXVCLG9CQUFaRyxVQUE0QkEsUUFBUUMsVUFBVyxPQUFPLEVBQU8sR0FBSUQsUUFBUUMsVUFBVVEsS0FBTSxPQUFPLEVBQU8sR0FBcUIsbUJBQVZDLE1BQXNCLE9BQU8sRUFBTSxJQUFpRixPQUEzRUMsS0FBS3BDLFVBQVVxQyxTQUFTTixLQUFLTixRQUFRQyxVQUFVVSxLQUFNLElBQUksaUJBQXlCLEVBQVEsTUFBT0UsR0FBSyxPQUFPLEdBRTFULFNBQVNqQixnQkFBZ0JrQixHQUF3SixPQUFuSmxCLGdCQUFrQlgsT0FBTzhCLGVBQWlCOUIsT0FBTytCLGVBQWlCLFNBQXlCRixHQUFLLE9BQU9BLEVBQUVHLFdBQWFoQyxPQUFPK0IsZUFBZUYsS0FBOEJBLEdBRXhNLFNBQVNJLFVBQVVDLEVBQVVDLEdBQWMsR0FBMEIsbUJBQWZBLEdBQTRDLE9BQWZBLEVBQXVCLE1BQU0sSUFBSUMsVUFBVSxzREFBeURGLEVBQVM1QyxVQUFZVSxPQUFPcUMsT0FBT0YsR0FBY0EsRUFBVzdDLFVBQVcsQ0FBRUQsWUFBYSxDQUFFaUQsTUFBT0osRUFBVW5DLFVBQVUsRUFBTUQsY0FBYyxLQUFlcUMsR0FBWUksZ0JBQWdCTCxFQUFVQyxHQUVuWCxTQUFTSSxnQkFBZ0JWLEVBQUdXLEdBQStHLE9BQTFHRCxnQkFBa0J2QyxPQUFPOEIsZ0JBQWtCLFNBQXlCRCxFQUFHVyxHQUFzQixPQUFqQlgsRUFBRUcsVUFBWVEsRUFBVVgsSUFBNkJBLEVBQUdXLEdBRXJLLFNBQVNDLGdCQUFnQkMsRUFBVXRDLEdBQWUsS0FBTXNDLGFBQW9CdEMsR0FBZ0IsTUFBTSxJQUFJZ0MsVUFBVSxxQ0F0QmhILElBQU1PLE9BQVNDLFNBQVNDLGNBQWMsVUFDaENDLElBQU1ILE9BQU9JLFdBQVcsTUFFeEJDLE1BQVFMLE9BQU9LLE1BQVFDLE9BQU9DLFdBQzlCQyxPQUFTUixPQUFPUSxPQUFTRixPQUFPRyxZQUV0QyxTQUFTQyxPQUFPQyxFQUFJQyxHQUNoQixPQUFPQyxLQUFLQyxNQUFNRCxLQUFLSCxVQUFZRSxFQUFJRCxHQUFPQSxHQTBCbEQsSUF2Qk1JLE1BQ0YsU0FBQUEsRUFBWUMsRUFBR0MsRUFBR0MsRUFBTUMsRUFBTUMsR0FBUXRCLGdCQUFBM0IsS0FBQTRDLEdBQ2xDNUMsS0FBSzZDLEVBQUlBLEVBQ1Q3QyxLQUFLOEMsRUFBSUEsRUFDVDlDLEtBQUsrQyxLQUFPQSxFQUNaL0MsS0FBS2dELEtBQU9BLEVBQ1poRCxLQUFLaUQsT0FBU0EsR0FJaEJDLEtBdUJrQixTQUFVQyxHQUNoQ2hDLFVBQVUrQixFQXhCT04sT0EwQmpCLElBQUlRLEVBQVMzRCxhQUFheUQsR0F6QnhCLFNBQUFBLEVBQVlMLEVBQUdDLEVBQUdDLEVBQU1DLEVBQU1LLEVBQU9DLEVBQU1MLEdBQVEsSUFBQU0sRUFBQSxPQUFBNUIsZ0JBQUEzQixLQUFBa0QsSUFDL0NLLEVBQUFILEVBQUE3QyxLQUFBUCxLQUFNNkMsRUFBR0MsRUFBR0MsRUFBTUMsRUFBTUMsSUFDbkJJLE1BQVFBLEVBQ2JFLEVBQUtELEtBQU9BLEVBSG1DQyxFQThFckQsT0F2Q0FsRSxhQUFhNkQsRUFBTSxDQUFDLENBQ2xCOUQsSUFBSyxPQUNMb0MsTUFBTyxXQWxDSFEsSUFBSXdCLFlBQ0p4QixJQUFJeUIsVUFBWXpELEtBQUtxRCxNQUNyQnJCLElBQUkwQixJQUFJMUQsS0FBSzZDLEVBQUc3QyxLQUFLOEMsRUFBRzlDLEtBQUtzRCxLQUFNLEVBQUcsRUFBSVosS0FBS2lCLElBQy9DM0IsSUFBSTRCLFNBcUNQLENBQ0R4RSxJQUFLLFNBQ0xvQyxNQUFPLFlBcENJeEIsS0FBSzZDLEVBQUk3QyxLQUFLc0QsTUFBU3BCLE9BQVlsQyxLQUFLNkMsRUFBSTdDLEtBQUtzRCxNQUFTLEtBQzdEdEQsS0FBSytDLE1BQVMvQyxLQUFLK0MsT0FFaEIvQyxLQUFLOEMsRUFBSTlDLEtBQUtzRCxNQUFTakIsUUFBYXJDLEtBQUs4QyxFQUFJOUMsS0FBS3NELE1BQVMsS0FDOUR0RCxLQUFLZ0QsTUFBU2hELEtBQUtnRCxNQUd2QmhELEtBQUs2QyxHQUFLN0MsS0FBSytDLEtBQ2YvQyxLQUFLOEMsR0FBSzlDLEtBQUtnRCxPQXdDbEIsQ0FDRDVELElBQUssa0JBQ0xvQyxNQUFPLFdBdkNILElBQUssSUFBSXFDLEVBQUksRUFBR0EsRUFBSUMsTUFBTWpGLE9BQVFnRixJQUM5QixHQUFPN0QsT0FBUzhELE1BQU1ELEdBQU0sQ0FDeEIsSUFBSUUsRUFBSy9ELEtBQUs2QyxFQUFJaUIsTUFBTUQsR0FBR2hCLEVBQ3ZCbUIsRUFBS2hFLEtBQUs4QyxFQUFJZ0IsTUFBTUQsR0FBR2YsRUFDWkosS0FBS3VCLEtBQUtGLEVBQUdBLEVBQUtDLEVBQUdBLEdBRXJCaEUsS0FBS3NELEtBQU9RLE1BQU1ELEdBQUdQLE9BQ2hDUSxNQUFNRCxHQUFHUixNQUFRckQsS0FBS3FELE1BQVEsT0FBU2QsT0FBTyxFQUFFLEtBQU8sSUFBTUEsT0FBTyxFQUFFLEtBQU8sSUFBTUEsT0FBTyxFQUFFLEtBQU8sVUErQzlHVyxFQXhEZSxHQWdCeEJBLEtBQUtnQixNQUFRLEdBNkNiLElBM0NNQyxXQTJDd0IsU0FBVUMsR0FDdENqRCxVQUFVZ0QsRUE1Q2F2QixPQThDdkIsSUFBSXlCLEVBQVU1RSxhQUFhMEUsR0E3Q3pCLFNBQUFBLEVBQVl0QixFQUFHQyxFQUFHRyxHQUFRLElBQUFxQixFQUFBLE9BQUEzQyxnQkFBQTNCLEtBQUFtRSxJQUN0QkcsRUFBQUQsRUFBQTlELEtBQUFQLEtBQU02QyxFQUFFQyxFQUFFLEdBQUcsR0FBSUcsSUFDWkksTUFBUSxRQUNiaUIsRUFBS2hCLEtBQU8sR0FIVWdCLEVBb0g1QixPQTFEQWpGLGFBQWE4RSxFQUFZLENBQUMsQ0FDeEIvRSxJQUFLLE9BQ0xvQyxNQUFPLFdBdERIUSxJQUFJd0IsWUFDSnhCLElBQUl1QyxVQUFZLEVBQ2hCdkMsSUFBSXdDLFlBQWN4RSxLQUFLcUQsTUFDdkJyQixJQUFJMEIsSUFBSTFELEtBQUs2QyxFQUFHN0MsS0FBSzhDLEVBQUc5QyxLQUFLc0QsS0FBTSxFQUFHLEVBQUlaLEtBQUtpQixJQUMvQzNCLElBQUl5QyxXQXlEUCxDQUNEckYsSUFBSyxjQUNMb0MsTUFBTyxXQXhER3hCLEtBQUs2QyxFQUFJN0MsS0FBS3NELE1BQVNwQixNQUN6QmxDLEtBQUs2QyxFQUFJWCxNQUFRbEMsS0FBSytDLEtBQ2IvQyxLQUFLNkMsRUFBSTdDLEtBQUtzRCxNQUFTLElBQ2hDdEQsS0FBSzZDLEVBQUksRUFBSTdDLEtBQUsrQyxNQUdoQi9DLEtBQUs4QyxFQUFJOUMsS0FBS3NELE1BQVNqQixPQUN6QnJDLEtBQUs4QyxFQUFJVCxPQUNBckMsS0FBSzhDLEVBQUk5QyxLQUFLc0QsTUFBUyxJQUNoQ3RELEtBQUs4QyxFQUFJLEtBNERoQixDQUNEMUQsSUFBSyxjQUNMb0MsTUFBTyxXQTNETyxJQUFBa0QsRUFBQTFFLEtBQ1ZtQyxPQUFPd0MsVUFBWSxTQUFBN0QsR0FDRyxLQUFkQSxFQUFFOEQsUUFDRkYsRUFBSzdCLEdBQUs2QixFQUFLM0IsS0FDTSxLQUFkakMsRUFBRThELFFBQ1RGLEVBQUs3QixHQUFLNkIsRUFBSzNCLEtBQ0ssSUFBYmpDLEVBQUU4RCxRQUNURixFQUFLNUIsR0FBSzRCLEVBQUsxQixLQUNNLEtBQWRsQyxFQUFFOEQsVUFDVEYsRUFBSzVCLEdBQUs0QixFQUFLMUIsU0FpRTFCLENBQ0Q1RCxJQUFLLGtCQUNMb0MsTUFBTyxXQTlESCxJQUFLLElBQUlxQyxFQUFJLEVBQUdBLEVBQUlDLE1BQU1qRixPQUFRZ0YsSUFBSyxDQUNuQyxJQUFJRSxFQUFLL0QsS0FBSzZDLEVBQUlpQixNQUFNRCxHQUFHaEIsRUFDdkJtQixFQUFLaEUsS0FBSzhDLEVBQUlnQixNQUFNRCxHQUFHZixFQUNaSixLQUFLdUIsS0FBS0YsRUFBR0EsRUFBS0MsRUFBR0EsR0FFbkJoRSxLQUFLc0QsS0FBT1EsTUFBTUQsR0FBR1AsT0FBOEIsSUFBcEJRLE1BQU1ELEdBQUdaLFNBQ3JEYSxNQUFNRCxHQUFHWixRQUFTLEVBQ2xCQyxLQUFLZ0IsUUFDTFcsVUFBVSxHQUFHQyxZQUFiLEdBQUFDLE9BQThCQyxjQUE5QixLQUFBRCxPQUErQzdCLEtBQUtnQixhQXFFM0RDLEVBMUVxQixHQVcxQkwsTUFBUSxHQUVSbUIsVUFBWSxJQUFJZCxXQUNoQjVCLE9BQU8sRUFBRUwsT0FDVEssT0FBTyxFQUFHRixTQUNWLEdBR0F3QyxVQUFZL0MsU0FBU29ELHFCQUFxQixLQUMxQ0YsY0FBZ0JILFVBQVUsR0FBR0MsWUFFakMsU0FBU0ssT0FNTCxJQUxBbkQsSUFBSXlCLFVBQVksbUJBQ2hCekIsSUFBSW9ELFNBQVMsRUFBRSxFQUFFbEQsTUFBT0csUUFJakJ5QixNQUFNakYsT0FBU3FFLEtBQUtnQixPQUFPLENBQzlCLElBQUltQixFQUFPLElBQUluQyxLQUNYWCxPQUFPLEVBQUdMLE9BQ1ZLLE9BQU8sRUFBR0YsUUFDVkUsUUFBUSxFQUFFLEdBQ1ZBLFFBQVEsRUFBRSxHQUNWLE9BQVNBLE9BQU8sRUFBRSxLQUFPLElBQU1BLE9BQU8sRUFBRSxLQUFPLElBQU1BLE9BQU8sRUFBRSxLQUFPLElBQ3JFQSxPQUFPLEdBQUcsS0FDVixHQUVKdUIsTUFBTXdCLEtBQUtELEdBR2YsSUFBSyxJQUFJekcsRUFBSSxFQUFHQSxFQUFJa0YsTUFBTWpGLE9BQVFELElBQzFCa0YsTUFBTWxGLEdBQUdxRSxTQUNUYSxNQUFNbEYsR0FBRzJHLE9BQ1R6QixNQUFNbEYsR0FBRzRHLFNBQ1QxQixNQUFNbEYsR0FBRzZHLG1CQUdiUixVQUFVTSxPQUNWTixVQUFVUyxjQUNWVCxVQUFVVSxjQUNWVixVQUFVUSxrQkFHZEcsc0JBQXNCVCxNQUcxQk4sVUFBVSxHQUFHQyxZQUFjRCxVQUFVLEdBQUdDLFlBQWM1QixLQUFLZ0IsTUFDM0RpQiIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKVxuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcblxuY29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodFxuXG5mdW5jdGlvbiByYW5kb20obWluLG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4LW1pbikgKyBtaW4pXG59XG5cbmNsYXNzIFNoYXBlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB2ZWxYLCB2ZWxZLCBleGlzdHMpIHtcbiAgICAgICAgdGhpcy54ID0geFxuICAgICAgICB0aGlzLnkgPSB5XG4gICAgICAgIHRoaXMudmVsWCA9IHZlbFhcbiAgICAgICAgdGhpcy52ZWxZID0gdmVsWVxuICAgICAgICB0aGlzLmV4aXN0cyA9IGV4aXN0c1xuICAgIH1cbn1cblxuY2xhc3MgQmFsbCBleHRlbmRzIFNoYXBlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB2ZWxYLCB2ZWxZLCBjb2xvciwgc2l6ZSwgZXhpc3RzKSB7XG4gICAgICAgIHN1cGVyKHgsIHksIHZlbFgsIHZlbFksIGV4aXN0cylcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemVcbiAgICB9XG4gICAgLy9zdGF0aWMgY291bnQgPSAyMFxuICAgIGRyYXcoKSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKVxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvclxuICAgICAgICBjdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnNpemUsIDAsIDIgKiBNYXRoLlBJKVxuICAgICAgICBjdHguZmlsbCgpXG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCAoKHRoaXMueCArIHRoaXMuc2l6ZSkgPj0gd2lkdGgpIHx8ICgodGhpcy54IC0gdGhpcy5zaXplKSA8PSAwKSkge1xuICAgICAgICAgICAgdGhpcy52ZWxYID0gLSh0aGlzLnZlbFgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCAoKHRoaXMueSArIHRoaXMuc2l6ZSkgPj0gaGVpZ2h0KSB8fCAoKHRoaXMueSAtIHRoaXMuc2l6ZSkgPD0gMCkpIHtcbiAgICAgICAgICAgIHRoaXMudmVsWSA9IC0odGhpcy52ZWxZKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy54ICs9IHRoaXMudmVsWFxuICAgICAgICB0aGlzLnkgKz0gdGhpcy52ZWxZXG4gICAgfVxuICAgIGNvbGxpc2lvbkRldGVjdCgpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBiYWxscy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKCAhKHRoaXMgPT09IGJhbGxzW2pdKSApIHtcbiAgICAgICAgICAgICAgICBsZXQgZHggPSB0aGlzLnggLSBiYWxsc1tqXS54XG4gICAgICAgICAgICAgICAgbGV0IGR5ID0gdGhpcy55IC0gYmFsbHNbal0ueVxuICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KVxuXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgdGhpcy5zaXplICsgYmFsbHNbal0uc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBiYWxsc1tqXS5jb2xvciA9IHRoaXMuY29sb3IgPSAncmdiKCcgKyByYW5kb20oMCwyNTUpICsgJywnICsgcmFuZG9tKDAsMjU1KSArICcsJyArIHJhbmRvbSgwLDI1NSkgKyAnKSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkJhbGwuY291bnQgPSAyMFxuXG5jbGFzcyBFdmlsQ2lyY2xlIGV4dGVuZHMgU2hhcGUge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIGV4aXN0cykge1xuICAgICAgICBzdXBlcih4LHksMjAsMjAsIGV4aXN0cylcbiAgICAgICAgdGhpcy5jb2xvciA9ICdXaGl0ZSdcbiAgICAgICAgdGhpcy5zaXplID0gMTBcbiAgICB9XG4gICAgZHJhdygpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAzXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3JcbiAgICAgICAgY3R4LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5zaXplLCAwLCAyICogTWF0aC5QSSlcbiAgICAgICAgY3R4LnN0cm9rZSgpXG4gICAgfVxuICAgIGNoZWNrQm91bmRzKCkge1xuICAgICAgICBpZiAoICh0aGlzLnggKyB0aGlzLnNpemUpID49IHdpZHRoICkge1xuICAgICAgICAgICAgdGhpcy54ID0gd2lkdGggLSB0aGlzLnZlbFhcbiAgICAgICAgfSBlbHNlIGlmICggKHRoaXMueCAtIHRoaXMuc2l6ZSkgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy54ID0gMCArIHRoaXMudmVsWFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCAodGhpcy55ICsgdGhpcy5zaXplKSA+PSBoZWlnaHQgKSB7XG4gICAgICAgICAgICB0aGlzLnkgPSBoZWlnaHRcbiAgICAgICAgfSBlbHNlIGlmICggKHRoaXMueSAtIHRoaXMuc2l6ZSkgPD0gMCApIHtcbiAgICAgICAgICAgIHRoaXMueSA9IDBcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDb250cm9scygpIHtcbiAgICAgICAgd2luZG93Lm9ua2V5ZG93biA9IGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gNjUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnggLT0gdGhpcy52ZWxYXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNjgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnggKz0gdGhpcy52ZWxYXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSA4Nykge1xuICAgICAgICAgICAgICAgIHRoaXMueSAtPSB0aGlzLnZlbFlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSA4Mykge1xuICAgICAgICAgICAgICAgIHRoaXMueSArPSB0aGlzLnZlbFlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb2xsaXNpb25EZXRlY3QoKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYmFsbHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCBkeCA9IHRoaXMueCAtIGJhbGxzW2pdLnhcbiAgICAgICAgICAgIGxldCBkeSA9IHRoaXMueSAtIGJhbGxzW2pdLnlcbiAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KVxuXG4gICAgICAgICAgICBpZiAoIChkaXN0YW5jZSA8IHRoaXMuc2l6ZSArIGJhbGxzW2pdLnNpemUpICYmIChiYWxsc1tqXS5leGlzdHMgPT09IHRydWUpICkge1xuICAgICAgICAgICAgICAgIGJhbGxzW2pdLmV4aXN0cyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgQmFsbC5jb3VudC0tXG4gICAgICAgICAgICAgICAgcGFyYWdyYXBoWzBdLnRleHRDb250ZW50ID0gYCR7dGV4dFBhcmFncmFwaH0gJHtCYWxsLmNvdW50fWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxubGV0IGJhbGxzID0gW107XG5cbmxldCBldmlsQ2ljbGUgPSBuZXcgRXZpbENpcmNsZShcbiAgICByYW5kb20oMCx3aWR0aCksIFxuICAgIHJhbmRvbSgwLCBoZWlnaHQpLFxuICAgIHRydWVcbilcblxubGV0IHBhcmFncmFwaCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwJylcbmxldCB0ZXh0UGFyYWdyYXBoID0gcGFyYWdyYXBoWzBdLnRleHRDb250ZW50XG5cbmZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMjUpJ1xuICAgIGN0eC5maWxsUmVjdCgwLDAsd2lkdGgsIGhlaWdodClcbiAgICBcbiAgICBcblxuICAgIHdoaWxlIChiYWxscy5sZW5ndGggPCBCYWxsLmNvdW50KSB7XG4gICAgICAgIGxldCBiYWxsID0gbmV3IEJhbGwoXG4gICAgICAgICAgICByYW5kb20oMCwgd2lkdGgpLFxuICAgICAgICAgICAgcmFuZG9tKDAsIGhlaWdodCksXG4gICAgICAgICAgICByYW5kb20oLTcsNyksXG4gICAgICAgICAgICByYW5kb20oLTcsNyksXG4gICAgICAgICAgICAncmdiKCcgKyByYW5kb20oMCwyNTUpICsgJywnICsgcmFuZG9tKDAsMjU1KSArICcsJyArIHJhbmRvbSgwLDI1NSkgKyAnKScsIFxuICAgICAgICAgICAgcmFuZG9tKDEwLDIwKSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgICBiYWxscy5wdXNoKGJhbGwpXG4gICAgfVxuXG4gICAgZm9yKCBsZXQgaSA9IDA7IGkgPCBiYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYmFsbHNbaV0uZXhpc3RzKSB7XG4gICAgICAgICAgICBiYWxsc1tpXS5kcmF3KClcbiAgICAgICAgICAgIGJhbGxzW2ldLnVwZGF0ZSgpXG4gICAgICAgICAgICBiYWxsc1tpXS5jb2xsaXNpb25EZXRlY3QoKVxuICAgICAgICB9XG4gICAgICAgXG4gICAgICAgIGV2aWxDaWNsZS5kcmF3KClcbiAgICAgICAgZXZpbENpY2xlLmNoZWNrQm91bmRzKClcbiAgICAgICAgZXZpbENpY2xlLnNldENvbnRyb2xzKClcbiAgICAgICAgZXZpbENpY2xlLmNvbGxpc2lvbkRldGVjdCgpXG4gICAgfVxuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApXG59XG5cbnBhcmFncmFwaFswXS50ZXh0Q29udGVudCA9IHBhcmFncmFwaFswXS50ZXh0Q29udGVudCArIEJhbGwuY291bnRcbmxvb3AoKSJdfQ==
